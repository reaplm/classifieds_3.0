@model Classifieds.Web.Models.AdvertViewModel
@{ 
    //var imageCdn = User.Claims.FirstOrDefault(u => u.Type == "ImageCdn").Value;
    var imageCdn = Model.User.UserDetail.ImageCdn;
    
}
    <div class="modal fade" id="advert-detail-modal" tabindex="-1"
         role="dialog" aria-labelledby="advertDetailModal" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h1>
                        @Html.DisplayFor(Model => Model.Detail.Title)
                    </h1>
                    <button type="button" class="close" data-dismiss="modal"
                            aria-label="close"
                            onclick="ModalDismiss('advert-detail-modal')">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-12">
                                <img src="@imageCdn" class="img-round mt-3 user-img float-left" />
</div>
                            </div>
                            <div class="row font-weight-bold grey-text">
                                @Html.DisplayFor(Model => Model.User.Email)
                            </div>
                            <div class="row font-weight-bold grey-text">
                                <p>Submitted <p>@Model.SubmittedDate</p>
                            </div>
                            <div class="row justify-content-center">

                                <div id="bs-carousel" class="carousel slide" data-ride="carousel">
                                    <ol class="carousel-indicators">
                                        @{
                    int j = 0;
                    var pictures = Model.Detail.AdPictures;
                                        }
                                        @foreach (var picture in pictures)
                {
                        @if (j == 0)
{
                        <li data-target="#bs-carousel" data-slide-to="@j" class="active"></li>
}
else
{
                        <li data-target="#bs-carousel" data-slide-to="@j"></li>

}
j++;
}
                                    </ol>
                                    <div class="carousel-inner" role="listbox">
                                        @{int i = 0;}
                                        @foreach (var picture in pictures)
                {
                        @if (i == 0)
{
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="@picture.CdnUrl" alt="">
                        </div>

}
else
{
                        <div class="carousel-item">
                            <img class="d-block w-100" src="@picture.CdnUrl" alt="">
                        </div>

}
i++;

}

                                    </div>
                                    <a class="carousel-control-prev" href="#bs-carousel" role="button" data-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="sr-only">Previous</span>
                                    </a>
                                    <a class="carousel-control-next" href="#bs-carousel" role="button" data-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="sr-only">Next</span>
                                    </a>
                                </div>
                            </div>


                            <br />
                            <div class="row">
                                <p>
                                    @Model.Detail.Body
                                </p>
                            </div>
                            <div class="row font-weight-bold grey-text">
                                <p>@Model.Detail.Email</p>
                            </div>
                            <div class="row font-weight-bold grey-text">
                                <p>@Model.Detail.Phone</p>
                            </div>
                        </div>
                </div>
                <div class="modal-footer">
                    <!--
        <button type="button" class="btn btn-secondary"
            data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" onClick="ValidateUpdateMenu()">Save</button>
    -->
                    <button id="edit-advert-btn" type="button" class="btn btn-primary" 
                            onclick="ModalDismiss('advert-detail-modal'); EditAdvert(@Model.ID)" data-dismiss="modal">
                        Edit
                    </button>
                </div>
            </div>
        </div>
    </div>
